<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <title>task</title>
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head>
<body>

  <div class="jumbotron text-center">
      <h1><span style="font-size:80px;color:#4285F4;">G</span><span style="color:#EA4335;">oogle</span> <span style="font-size:80px;color:#4285F4;">T</span><span style="color:#FBBC05;">axonomy</span></h1>
  </div>
  <div class="container">  
  <div class="row">
    <div class="col-sm-4">
          <select class="parent form-control" onchange="child()"></select>
          <br>
          <select class="child form-control" onchange="f1()" style="display:none"></select>
          <br>
          <select class="child1 form-control" onchange="f2()" style="display:none"></select>
          <br>
          <select class="child2 form-control" onchange="f3()" style="display:none"></select>
          <br>
          <select class="child3 form-control"  style="display:none"></select>
    </div>
    <div class="col-sm-4">
     <ul class="data" >

     </ul>
    </div>
  </div>
</div>

<script>
var x,val,val1,val2;
var obj={};
var obj1={};
var e,f,h,k,l;
var len;
var arr = new Array();
var arr1;

function child()
  {
    $(".child").html("");
    $(".data").html("");
   val=$(".parent").val();
   for(y in obj[val])
  {  
    $(".child").show();
    $(".child").append(`<option value='${y}'>${y}</option>`);  
    $(".data").append(`<li>${y}</li>`);
  }
  
  }
  function f1()
  {
    $(".child1").html("");
    $(".data").html("");
    val1=$(".child").val();
    for(z in obj[val][val1])
  {  
    $(".child1").show();
    $(".child1").append(`<option value='${z}'>${z}</option>`); 
    $(".data").append(`<li>${z}</li>`);  
  }
  }
  function f2()
  {
    $(".child2").html("");
    $(".data").html("");
    val2=$(".child1").val();
    for(w in obj[val][val1][val2])
  {
    $(".child2").show();
    $(".child2").append(`<option value='${w}'>${w}</option>`);
    $(".data").append(`<li>${w}</li>`); 
  }
  }
  function f3()
  {
   
  $(".child3").html("");
  $(".data").html("");
    val3=$(".child2").val();
    for(z in obj[val][val1][val2][val3])
  {
    $(".child3").show();
    $(".child3").append(`<option value='${z}'>${z}</option>`);
    $(".data").append(`<li>${z}</li>`); 
  }
  }
  

const proxyUrl='https://cors-anywhere.herokuapp.com/';
fetch( proxyUrl + 'https://www.google.com/basepages/producttype/taxonomy.en-US.txt' )
.then(e=>e.text())
.then(req => {
     var arr = req.split('\n');
     arr.shift();
     arr.pop();
   for(var i=0;i<arr.length;i++)
   {
     arr1=arr[i].split('>');
    if(arr1.length==1)
    {
      e = arr1[0];
      obj[e] = {};
      
    }
    if(arr1.length==2)
    {
      f = arr1[1];
      obj[e][f] = {}; 
     
    }
    if(arr1.length==3)
    {
      h = arr1[2];
      obj[e][f][h] = {}
     
    }
    if(arr1.length==4)
    {
      k = arr1[3];
      obj[e][f][h][k] = {};
      
    }
    if(arr1.length==5)
    {
      l=arr1[4];
      obj[e][f][h][k][l]={};
     
    }
  }
 
  for(x in obj)
  {
      $(".parent").append(`<option value='${x}'>${x}</option>`);
      $(".data").append(`<li>${x}</li>`);
       
  }
  console.log(obj); 
})
</script>
</body>
</html>
