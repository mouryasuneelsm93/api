<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <title>task</title>
</head>
<body>
  <select class="parent" onchange="child()"></select>
  <select class="child" onchange="child1()" style="display:none"></select>
  <select class="child1" onchange="child2()" style="display:none"></select>
  <select class="child2" onchange="child3()" style="display:none"></select>
  <select class="child3" onchange="child4()" style="display:none"></select>
<script>
var x;
var len;
function parent()
{
  const arr=[];
  var obj={};
const proxyUrl='https://cors-anywhere.herokuapp.com/';
fetch( proxyUrl + 'https://www.google.com/basepages/producttype/taxonomy.en-US.txt' )
.then(e=>e.text())
.then(req => {
     var s = req.split('\n');
     s.shift();
     s.pop();
     len=s.length;
     
     
    for(var i=0;i<s.length;i++)
    {
       x = s[i].split('>');
       obj = Object.assign({}, x);
       console.log(obj); 
     if(x.length==1)
     {  
    
      $(".parent").append(`<option value='${x}'>${x}</option>`);  
     }
     
    }
  })
}

parent();

function child()
{
  $(".child").show();
  $(".child").html("");
  var val=$(".parent").val();
  const proxyUrl='https://cors-anywhere.herokuapp.com/';
fetch( proxyUrl + 'https://www.google.com/basepages/producttype/taxonomy.en-US.txt' )
.then(e=>e.text())
.then(req => {
     var s = req.split('\n');
     s.shift();
     s.pop();
     len=s.length;
    for(var i=0;i<s.length;i++)
    {
       x = s[i].split('>');
     if(x.length==2 && x[0].trim()==val)
     {  
      $(".child").append(`<option value='${x[1]}'>${x[1]}</option>`);  
     }
     
    }
  })
}

function child1()
{
  $(".child1").show();
  $(".child1").html("");
  var val1=$(".child").val();
  val1=val1.trim();
  const proxyUrl='https://cors-anywhere.herokuapp.com/';
fetch( proxyUrl + 'https://www.google.com/basepages/producttype/taxonomy.en-US.txt' )
.then(e=>e.text())
.then(req => {
     var s = req.split('\n');
     s.shift();
     s.pop();
     len=s.length;
    //  console.log(val1);
    for(var i=0;i<s.length;i++)
    {
       x = s[i].split('>');

       if(x.length==3 && x[1].trim()==val1)
     {  
    //  console.log(x[2]);
     $(".child1").append(`<option value='${x[2]}'>${x[2]}</option>`);
     }
     
    }
  })
}
function child2()
{
  $(".child2").show();
  $(".child2").html("");
  var val1=$(".child1").val();
  val1=val1.trim();
  console.log(val1);
  const proxyUrl='https://cors-anywhere.herokuapp.com/';
fetch( proxyUrl + 'https://www.google.com/basepages/producttype/taxonomy.en-US.txt' )
.then(e=>e.text())
.then(req => {
     var s = req.split('\n');
     s.shift();
     s.pop();
     len=s.length;
     console.log(val1);
    for(var i=0;i<s.length;i++)
    {
       x = s[i].split('>');

       if(x.length==4 && x[2].trim()==val1)
     {  
     console.log(x[3]);
     $(".child2").append(`<option value='${x[3]}'>${x[3]}</option>`);
     }
     
    }
  })
}
function child3()
{
  $(".child3").show();
  $(".child3").html("");
  var val1=$(".child2").val();
  val1=val1.trim();
  console.log(val1);
  const proxyUrl='https://cors-anywhere.herokuapp.com/';
fetch( proxyUrl + 'https://www.google.com/basepages/producttype/taxonomy.en-US.txt' )
.then(e=>e.text())
.then(req => {
     var s = req.split('\n');
     s.shift();
     s.pop();
     len=s.length;
     console.log(val1);
    for(var i=0;i<s.length;i++)
    {
       x = s[i].split('>');

       if(x.length==5 && x[3].trim()==val1)
     {  
     console.log(x[4]);
     $(".child3").append(`<option value='${x[4]}'>${x[4]}</option>`);
     }
     
    }
  })
}
</script>

</body>

</html>
